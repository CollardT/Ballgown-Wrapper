<tool id="ballgown" name="Ballgown" version="0.5.0" workflow_compatible="true">
  <description>Flexible, isoform-level differential expression analysis</description>
  <requirements>
				<requirement type="package" version="2.2.0">bioconductor-ballgown</requirement>
  </requirements>
  <command><![CDATA[
  #for $i, $s in enumerate($samples)
    mkdir sample$i &&
    ln -s '${s.e2t}' sample$i/e2t.ctab &&
    ln -s '${s.i2t}' sample$i/i2t.ctab &&
    ln -s '${s.i_data}' sample$i/i_data.ctab &&
    ln -s '${s.t_data}' sample$i/t_data.ctab &&
    ln -s '${s.e_data}' sample$i/e_data.ctab &&
  #end for
  Rscript /local_tools/ballgown/ballgown.R $phendata
  ]]>
  </command>
  <inputs>
    <repeat name="samples" title="Samples">
          <param name="e2t" type="data" format="tabular" label="Exon to transcript" />
          <param name="i2t" type="data" format="tabular" label="Intron to transcript" />
          <param name="e_data" type="data" format="tabular" label="Exon level expression measurement" />
          <param name="i_data" type="data" format="tabular" label="Intron level expression measurement" />
          <param name="t_data" type="data" format="tabular" label="transcript level expression measurement" />
    </repeat>
    <param name="phendata" type="data" format="csv" label="phenotype data" />
  </inputs>
  <outputs>
    <data name="output" format="csv" file="output.csv"/>
  </outputs>
  <tests>
      <test>
      <param name="inputcsv" value="phenodata.csv" />
      <param name="inputdata" />
      <output name="output" format="csv" file="output.csv"/>
    </test>
  </tests>
  <help>

=======================
Ballgown
=======================
**What it does**
This tool does stuff I guess, I mean Idk.

----

**How to use**

Blablabla

.. class:: infomark

'''TIP''' *Note* trolololo

-----

**Authors**: Theo Collard[SLU Global Bioinformatics Centre], Rafael Hernández de Diego [SLU Global Bioinformatics Centre], and Thomas Klingström [SLU Global Bioinformatics Centre]

Sources are available at https://github.com/CollardT/Ballgown-Wrapper


  </help>
</tool>
